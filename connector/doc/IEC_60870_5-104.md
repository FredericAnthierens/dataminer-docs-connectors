---
uid: Connector_help_IEC_60870_5-104
---

# IEC 60870 5-104

The International Electrotechnical Commission (IEC) defines 60870 standards for telecontrol (supervisory control and data acquisition) in electric engineering and power system automation applications. The **IEC 60870 5-104** protocol provides a communication profile for sending basic telecontrol messages between two systems in electrical engineering and power system automation.

IEC 104 provides the network access to IEC 60870 5-101 using standard transport profiles, delivering IEC 101 messages as application data over TCP, port 2404. It enables communication between control station (master) and a substation (slave) via a standard TCP/IP network - communication is based on the client-server model.

## About

DataMiner acts as a master whereas the Remote Terminal Unit (RTU) is the slave. The RTU has an internal programmable Programmable Logic Controller (PLC) with digital and analog IO used to monitor telecom or transmission centers.Among others, energy metrics such as oil pressure, temperature or access metrics as control mode, control VCC, etc., can be monitored and controlled.

### Version Info

| Range     | Key Features                 | Based on     | System Impact     |
|-----------|------------------------------|--------------|-------------------|
| 1.0.0.x (Absolete)   | Initial version   | -            | -                 |
| 1.0.1.x (Main)  | Improved data tranfer   | -            | -                 |
| 1.1.0.x   | Support for a different firmware  | -            | -                 |

### Product Info

| Range     | Supported Firmware     |
|-----------|------------------------|
| 1.x.x.x   | -                      |

### System Info

| Range     | DCF Integration     | Cassandra Compliant     | Linked Components     | Exported Components     |
|-----------|---------------------|-------------------------|-----------------------|-------------------------|
| 1.0.0.x   | No                  | Yes/No                  | -                     | -                       |
| 1.0.1.x (Main)   | No                  | Yes                  | -                     | -                       |
| 1.1.0.x   | No                  | Yes/No                  | -                     | -                       |

## Configuration

### Connections

#### Smart-Serial Main Connection

This connector uses a Smart-Serial connection and requires the following input during element creation:

SMART-SERIAL CONNECTION:

- **IP address/host**: The polling IP of the device, e.g. *192.168.56.201*.
- **IP port**: The IP port of the device, e.g. *161*.
- **Bus address**: The bus address of the device, e.g. *1*.

### Initialization

After the connection is established with the RTU, all the Information Object Addresses (IOAs) are retrieved from the unit. The IOAs are configured in the PLC, where each IOA corresponds to a parameter.

A configuration file shall be imported with metadata of RTU's parameters. The file should be placed in one of the following paths:

- C:\Skyline DataMiner\Documents\Elements\xxx.xlsx
- C:\Skyline DataMiner\Documents\Protocol\yyy.xlsx

As per example, below you may find a metadata file:

![Capture.GIF](~/connector/images/IEC_60870_5-104_Capture.GIF)

Note that the metadata columns above will be displayed in the Parameter table.

### Web Interface

No web interface available.

## How to Use

Once the connection is successfully established, the status parameters on the General page are filled in.

At startup, the Parameter table on General page is filled with digital and analog IOA values. As soon as the metadata file is imported, the remaining columns are filled in as well as the Command table on the command page.

Commands flow:
At startup, an initial command is sent, known as StartDT which basically indicates to the Slave that data transfer can be initiated. After that, all the IOAs present in the RTU are requested by sending the Interrogation command. At last, the TestFR command is sent periodically which is similar to a ping command.

### General

Shows connector status and key parameters.

- **Data Transfer**: Current data transfer state between the master (DataMiner) and the slave (RTU).
- **Connection**: Status of the IEC 104 connection. Updated when a TestFR response is received.
- **TCP Connection**: Current TCP socket state.
- **Total Number of Parameters**: Total number of IOAs retrieved from the RTU ***(only for Range 1.1.0.x)***.

#### Range 1.0.1.x (Main) only
The DVE Control Table is displayed on the General page. It is used to generate DVEs and can also force a station interrogation.

#### Range 1.1.0.x only
The Parameter table displays all digital and analog parameters retrieved from the RTU.

### Configuration
Users can configure interrogation command scheduling. A Reconnect button is available to close and reopen the TCP socket.

### Import File
This page lets the user trigger the import operation from a CSV/XLSX file or script ***(only for Range 1.0.1.x - Main)***.

- **Current Task**: Status of the import operation.
- **Processing Task**: Current processing step.

For **Range 1.1.0.x only**, the Metadata table displays the imported CSV/XLSX data.

For **Range 1.0.1.x (Main)**, an Import Script section allows users configure and run an automation script to import data.
- **Import Status**: A discrete parameter showing the import state: Pending, In Progress, Completed, Failed.
- **Device**: Dropdown listing the value "ALL" and any available DVEs.
- **Automation Script**: Dropdown listing only automation scripts that expose input parameteres named ImportElementName and RequestGuid.
- **Import User**: Optional text field for a username used by the automation script.
- **Import Password**: Optional password field to securely store credentials for the automation script.
- **Refresh List**: Refreshes the available devices and automation scripts shown in the dropdowns.
- **Import Script**: Prompts for confirmation and then executes the selected automation script. If no script is selected a warning is shown.

The selected script is invoked with input parameters ImportElementName (the element name) and RequestGuid (a unique identifier for the request). The script must return the operation result and any returned data via InterApp messages using the same RequestGuid.
A script template is available in the GitHub repository: [SLC-AS-IEC_60870_5-104_ImportScriptTemplate](https://github.com/SkylineCommunications/SLC-AS-IEC_60870_5-104_ImportScriptTemplate)

### Command — Range 1.1.0.x only
A table listing all IOAs that support set actions on the RTU.

### Debug — Range 1.0.1.x (Main) only
When the **debug** option is enabled in Configuration, the Debug page becomes visible and shows:

- **Current APCI data**: APCI frames for debugging.
- **Parameter table**: Digital and analog parameters retrieved from the RTU.
- **Command**: IOAs available for set actions.
- **Metadata table**: Imported CSV/XLSX metadata

